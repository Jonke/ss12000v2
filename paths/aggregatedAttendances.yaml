get:
  tags:
    - Närvaro
  summary: >
    Returnerar summerad närvaro information utifrån angivet tidsintervall.
  parameters:
    - name: startDate
      description: Hämta aggregerad närvaro från och med detta datum.
      in: query
      required: true
      schema:
        type: string
        format: date-time
    - name: endDate
      description: Hämta aggregerad närvaro till och med detta datum.
      in: query
      required: true
      schema:
        type: string
        format: date-time
    - name: schoolUnit
      description: Inkludera endast närvaro från aktiviteter vilka ägs av angiven skolenhet.
      in: query
      schema:
        type: string
        format: uuid
    - name: schoolType
      description: Hämta endast närvaro information från aktiviteter vilka är kopplade mot angiven skolform.
      in: query
      schema:
        type: array
        items:
          $ref: "../common.yaml#/components/schemas/SchoolTypesEnum"
    - name: student
      description: Filtrera på elev (person).
      in: query
      schema:
        type: array
        items:
          type: string
          format: uuid
    - name: expand
      description: Beskriver om och vilken expanderade data som returneras i samband med närvaro informationen.
      in: query
      schema:
        type: array
        items:
          type: string
          enum: [ activity, student ]
    - $ref: "searchParameters.yaml#/ExpandReferenceNames"
    - $ref: "searchParameters.yaml#/Limit"
    - $ref: "searchParameters.yaml#/PageToken"

  responses:
    200:
      description: successful operation
      content:
        application/json:
          schema:
              $ref: "../AggregatedAttendance.yaml#/AggregatedAttendances"
    400:
        description: >
          Filter (ex `sortkey`, `meta.modified.after`, `meta.modified.before`, `meta.created.after`, `meta.created.before`
          ,   `expand`, `startDate`,`endDate`,`schoolUnit`,`schoolType`, `student`) kan inte kombineras med `pageToken`
